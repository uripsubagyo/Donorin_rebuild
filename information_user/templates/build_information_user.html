

{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{% static 'css/information_user.css' %}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  {% block meta %}
  {% endblock meta %}
  <title>Information Relawan</title>
  <style> 
    .input-sign {
      background: #FFFFFF;
      border: 1px solid #EB1D36;
      border-radius: 43px;
      height: 56px;
      padding-right: 15px;
      margin-top: 0px;
    }
    .sign-comp{
      margin-top: 26px;
    }
    .sign-comp p{
    margin-bottom: 0px;
}
    </style>
</head>

<body class="row body-signup" style="padding: 49px;">
  <div class="col-xl-4 left-signup-decoration">
    <p class="name-left">Donorin</p>
    <p class="tag-line-left">Start You</p>
    <p class="tag-line2-left">Journey With us.</p>
    <p class="decs-left-signup">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a.</p>
    <div class="carosel-left">
        <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="false">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="https://docs.google.com/uc?id=1k3pTlUCSksKL2WSWzF1dGRem55Eno00J" class="d-block w-100" alt="...">
              <div class="carousel-caption d-none d-md-block">
                  </div>
            </div>
            <div class="carousel-item">
              <img src="https://docs.google.com/uc?id=1ujLo04XNpb0MTXO1vIqJl_sqKS01rDwI" class="d-block w-100" alt="...">
              <div class="carousel-caption d-none d-md-block">
              </div>
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
    </div>
  </div>
  <form class="col-xl-8" id="information-form" method="post">
    {% csrf_token %}
      <div class="right-signup-decoration">
        <div class="btn-head-logout" style="display: flex; justify-content: space-between;">
          <div>
            <h2>Information Relawan</h2>
          </div>
          <div>
            <button class=" btn-logout"><a href="{% url 'dashboard_user:dashboard_relawan' %}">Dashboard</a></button>
            <button class=" btn-logout"><a href="{% url 'signout:logout' %}">Log Out</a></button>
          </div>  

        </div>
        <div class="row">
          <div class=" col-6 sign-comp">
            <p >Username</p>
            <input disabled type="text" name = "username" class="form-control input-sign" placeholder="" aria-label="Username" aria-describedby="basic-addon1" id="{{ form.username.id_for_label }}" value="{{username}}">
          </div>
          <div class="col-6 sign-comp">
            <p >Email</p>
            <input  type="email" name = "email" class="form-control input-sign" placeholder="" aria-label="email" aria-describedby="basic-addon1" id="{{ form.username.id_for_label }}">
          </div>
        </div>

        <div class="row">
          <div class="col-6 sign-comp">
            <p>Full Name</p>
            <input type="text"  name = "full_name" class="form-control input-sign" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
          </div>
          <div class="col-6 sign-comp">
            <p>Blood Group</p>
            <input type="text"  name = "blood_group" class="form-control input-sign" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
          </div>
        </div>

        <div class="row">
          <div class="col-6 sign-comp">
            <p>Phone Number</p>
            <input type="text"  name = "phone_number" class="form-control input-sign" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
          </div>
          <div class="col-6 sign-comp">
            <p>Birth Date</p>
            <input type="text"  name = "birth_date" class="form-control input-sign" placeholder="Date-Month-Year" aria-label="Username" aria-describedby="basic-addon1">
          </div>
        </div>

        <div class="sign-comp">
          <p>Province</p>
          <input type="text" name = "province" class="form-control input-sign" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
        </div>

        <div class="sign-comp">
          <p>Kota</p>
          <input type="text" name = "city" class="form-control input-sign" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
        </div>

        <div style="display: flex;">
          <div class="form-check chose-box">
            <input class="form-check-input" type="radio"  name="gender" id="wanita" value="Wanita">
            <label class="form-check-label" for="Wanita">
              <img class="img-chose" src="https://docs.google.com/uc?id=1mV6GykiYODUF3I_6DnmwQTa4rza-vAD0" alt="">            
            </label>
          </div>
          <div class="form-check chose-box">
            <input class="form-check-input" type="radio" name="gender" id="pria" value = "Pria">
            <label class="form-check-label" for="Pria">
              <img  class="img-chose" src="https://docs.google.com/uc?id=1J-IiviPSH6TFZlwAPZSK6SRTcrIqi2Gl" alt="">
            </label>
          </div>
        </div>
        <input value="Submit" href="{% url 'dashboard_user:dashboard_relawan'%}" type="submit" class="btn btn-sign" style="background-color: #EB1D36; border-radius: 50px; font-style: normal;font-weight: 700;font-size: 20px;line-height: 24px;color: #FFFFFF;">
      
      </form>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  <script>

$(document).on('submit', '#information-form', function(e){
    e.preventDefault();
    
    var forms_id = $('#information-form')

    $.ajax({
        type:'POST',
        url:"{% url 'information_user:information_user' %}",
        data:forms_id.serialize(),
        dataType:"json",
        header: {'X-CSRFToken': '{% csrf_token %}'},
        success: function(response){
          var success = response['success']
          if (success){
            alert("Informasi anda telah direkam. Anda dapat pindah ke dashboard!")
          }
          else {
            alert("Pendaftaran akun gagal! Silakan coba lagi.");
            for(var msg in response['error']) {
              var txt = JSON.stringify(response['error'][msg]);
              document.getElementById("error").innerHTML = txt.replace(/[&\/\\#,\]+()$~%['":*?<>{}]/g, '');
            }
          }
        },
    });
  });

  </script>
</body>
</html>